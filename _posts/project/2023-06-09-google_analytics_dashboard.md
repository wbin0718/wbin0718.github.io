---
title: "태블로를 활용한 구글 애널리틱스 보고서"
excerpt: 구글 데모 데이터인 merchandise store의 데이터를 빅쿼리를 가지고 데이터를 추출하고 태블로를 활용 해 구글 애널리틱스 보고서를 만들어보려고 합니다!
categories:
  - project
tags:
  - 

toc: true
toc_sticky: true
---

# 구글 데이터 분석 프로젝트
<br>

구글 애널리틱스를 들어가면 데모 계정으로 구글이 제공하는 데이터를 사용할 수가 있습니다. 실제로 고객의 행동 데이터를 캐글, 데이콘으로 얻는 것은 어려운데 데모 데이터를 활용하면 고객의 행동 데이터를 분석할 수가 있습니다!   
<br>
구글 애널리틱스는 이벤트를 통해 고객의 행동 데이터를 얻고 이를 다양한 보고서 형태로 제공을 해 주고 있습니다. 따라서 이번 프로젝트는 구글 빅쿼리를 사용해서 원하는 데이터를 추출하고, 태블로를 통해 구글 애널리틱스가 제공하는 보고서를 따라 만들어 보려고 합니다!!   
먼저 참여도의 페이지 및 화면 대시보드를 만들어 보겠습니다! 한달 무료 쿼리 1TB 제공이므로 모든 기간을 구하지 않고, 우선 하루 고정을 해서 구했습니다. 보고서를 만들 때는 한달 기간 활용했습니다!

<br>

## 조회수
구글 애널리틱스는 page_view 및 screen_view라는 이벤트가 존재합니다. 이 이벤트는 고객이 홈페이지를 클릭해서 들어갈 때 발생하게 됩니다. 웹에서는 page_view라는 이벤트로 수집이되고, 앱에서는 screen_view 이벤트로 수집이 된다고 설명이 되어있습니다!   

<br>
조회수는 사용자가 같은 화면을 여러번 봐도 여러번 집계가 됩니다. 예를 들면 어떤 한 고객이 홈 화면을 10번 클릭해서 들어갔다면, 홈 화면의 조회수는 10이 되는 것입니다. 이는 사용자수와 약간 대비되는데요, 사용자수는 아래에서 설명하겠습니다.   

<br>
조회수를 통해 무엇을 알 수 있을까요? 조회수는 고객이 어떤 화면을 많이 접속하는지를 알 수 있으며 이를 통해 많이 접속하는 페이지의 UI 개선을 통해 UX를 높이는 노력을 할 수가 있습니다!   

<br>
빅쿼리를 통해 조회수를 구해보겠습니다.   

<br>

![image](https://github.com/wbin0718/google_analytics_dashboard/assets/104637982/32d4440b-3006-40d1-af9b-52c5a0c19b8b)

가장 많이 본 화면은 무엇일까요? 약간 가려지기는 했지만 고객들이 가장 먼저 만나게 되는 홈페이지의 조회수가 가장 높습니다.   

## 사용자 수

다음은 사용자 수입니다. 많은 기업들이 사용하는 지표로 DAU, MAU, WAU가 있습니다. 사용자 수는 아까 조회 수와는 차이가 있다고 말했는데요! 조회 수는 같은 고객이 여러번 접속해도 중복으로 집계를 했지만 사용자 수는 같은 고객이 여러번 접속해도 딱 한번만 집계를 하게 됩니다.   

<br>
예를들어 DAU를 측정한다고 가정하겠습니다! 한 고객이 오늘 같은 페이지를 10번 접속을 했다고 해보겠습니다. 조회 수는 10번으로 집계가 된다고 했지만, 사용자 수는 딱 1로 집계가 됩니다.   

<br>
사용자수를 구해보겠습니다.

<br>

![image](https://github.com/wbin0718/google_analytics_dashboard/assets/104637982/d98d06d4-3b28-49db-9586-68207ce0f91a)

사용자수도 홈페이지 main 화면이 가장 높은 것을 볼 수가 있습니다. 또한 중복값을 제외해 조회수보다는 낮은 값을 가지고 있습니다.
<br>

## 사용자당 조회수

사용자당 조회수는 조회수 / 사용자수로 구하게 됩니다. 한 고객이 평균적으로 몇번 조회를 하는지를 알기 위함입니다.   

<br>

![image](https://github.com/wbin0718/google_analytics_dashboard/assets/104637982/7107dc8b-f52c-4ce8-afbc-651e1618a27e)      

평균적으로 사용자당 가장 많은 접속이 있는 화면은 무엇일까요? 평균적으로 8번 이상의 조회를 한 페이지가 있습니다. 평균적으로 조회수가 높은 페이지들은 사용자들이 적은 것을 볼 수가 있습니다. 이러한 값을 제대로 분석하기 위해서는 임계값을 정하고 사용자 100명 이상의 페이지만 분석하는 방법을 사용할 수 있습니다.

<br>
사용자가 평균적으로 8번을 눌렀다는 것은 무엇을 의미할까요? 많이 혹은 적게 어떤 것이 더 좋은 것일까요? 정답은 없습니다!!    
예를 들어 아이템을 보는 화면이라면 사용자가 많이 보면 볼수록 좋은 의미를 담고있겠지만, 구매로 가는 단계의 화면이라면 너무 많은 접속은 분명 문제가 있어 사용자가 어려움을 겪고 있다는 증거가 될 수도 있습니다!      
이처럼 화면마다 사용자당 조회수를 모니터링 하며 서비스를 개선시키는 과정은 매우 중요합니다!!   

<br>

## 평균 참여 시간

참여 시간이 의미하는 것은 무엇일까요? 아래는 구글의 정의입니다.   
> 앱이 포그라운드 상태로 있었던 평균 시간 또는 웹사이트가 브라우저에서 포커스된 상태로 있었던 평균 시간입니다.

정의가 어렵다면 예를 들어서 설명을 해보겠습니다!   

![image](https://github.com/wbin0718/google_analytics_dashboard/assets/104637982/e481c02f-8652-4a61-b9b2-d3d4e2770e84)   

위와 같은 사용자의 행동이 있었다고 해보겠습니다.   
사용자가 홈페이지를 방문하면 자동으로 first_view, page_view, session_start 이벤트가 발생합니다. 만약 홈페이지를 방문하고 아래로 8초후 스크롤을 내린다면 scroll이라는 이벤트가 발생하게 되고 (first_view, page_view, session_start)와 (scrolls) 사이 8초라는 참여 시간이 쌓이게 되고 user_engagement_msec라는 값으로 저장이 됩니다.   

사용자가 스크롤을 내리고 11초 있다가 다른 페이지로 가는 링크를 눌러 두 번째 페이지를 방문한다면 두 번째 페이지의 page_view 이벤트와 scroll 이벤트 사이 11초라는 값이 user_engagement_msec로 저장이 됩니다!    

즉 참여 시간은 사용자가 특정 홈페이지를 방문해서 다양한 행동(이벤트)를 하는데, 이벤트를 참여한 시간을 의미합니다. 그렇다면 평균 참여 시간은 무엇일까요? 사용자당 조회수와 같은 의미로 사용자당 참여 시간을 의미합니다. 사용자마다 평균적으로 특정 화면을 얼마나 머물렀는지를 나타내는 것이지요!

<br>

![image](https://github.com/wbin0718/google_analytics_dashboard/assets/104637982/176c7f27-3659-4248-9c9c-80b03bdf5acd)

가장 평균 참여 시간이 긴 페이지는 140초를 보이고 있습니다. 사용자는 한명인데 왜 사용자는 140초 동안 머물렀을까요? 지표를 통해 사용자의 행동 패턴을 분석하며 왜 사용자가 이러한 행동을 보였을까?를 생각하는 습관을 기르는 것이 중요합니다.

<br>

## 이벤트 수

다음은 이벤트 수입니다. 구글 애널리틱스는 이벤트 수 지표도 모니터링하고 있습니다. 즉 홈페이지를 운영하기 위해 다양한 이벤트를 설정할 수가 있습니다. 이를 통해 고객이 특정 화면의 이벤트를 얼마나 사용했는지를 확인하는 것입니다!  

<br>

![image](https://github.com/wbin0718/google_analytics_dashboard/assets/104637982/fe9e69e5-79d9-46c7-8a2e-986c25c1eadd)  

## 전환 이벤트

구글 애널리틱스는 전환이라는 목표가 있습니다. 어떤 기업이든 상품 판매, 수익 증대와 같은 목표가 있습니다. 구글 애널리틱스 이벤트를 활용하여 기업이 목표로하는 이벤트를 달성하면 이를 전환 이벤트라고 합니다.

<br>

![image](https://github.com/wbin0718/google_analytics_dashboard/assets/104637982/f26d5f0a-e07e-4513-b120-939effd42293)

전환 이벤트는 이벤트보다 적을 수 밖에 없습니다. 또한 빅쿼리를 통해서 구할 때는 구글 애널리틱스 전환 이벤트를 참고했습니다!

## 총수익

구글 애널리틱스는 총 수익을 모니터링 하는데요. 빅쿼리로 구한 총 수익을 살펴보겠습니다.

<br>

![image](https://github.com/wbin0718/google_analytics_dashboard/assets/104637982/c082ccec-2234-43c8-aae7-8dd3d2cdd969)

2개까지 값이 보이는데요, 첫번 째 구매 페이지가 150484.93 달러의 수익을 보이고 있습니다. 2번째 행부터 나머지 행은 전부 수익이 0 입니다.   

실제로 데이터를 보면 구매 페이지 purchase 이벤트가 발생할 때만 수익인 value 값이 저장되어 있고, 나머지는 null 값 처리되어있는 것을 확인했습니다.

## 대시보드
<hr>
<br>

![image](https://github.com/wbin0718/google_analytics_dashboard/assets/104637982/7c2b4a45-ef2c-4763-bf79-6a325800cc1a)

위 코드를 수정하고 태블로를 사용해서 위와 같은 대시보드를 만들었습니다. 블로그 관련 코드는 전부 깃허브로 업로드 해 두었습니다!   만약 궁금하신 것이 있거나, 잘못된 부분이 있으면 지적 해 주시면 감사하겠습니다!   
[깃허브 링크](https://github.com/wbin0718/google_analytics_dashboard)